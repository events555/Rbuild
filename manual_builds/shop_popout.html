<!DOCTYPE html>
<html>
<head>
    <style>
        /* Add your CSS styles here */
        body {
            overflow-x: hidden;
            margin: 0;
            padding: 0;
            background: white;
        }

        .row {
            display: flex;
        }

        .column {
            flex: 33.33%;
            padding: 10px;
            background-color: beige;
            text-align:center;
        }

        table {
            border-collapse: collapse;
            width: 90%;
            margin-top:20px;
            margin-left: auto;
            margin-right: auto;
        }
            
        th, td {
            text-align:center;
            padding: 8px;
            border-bottom: 1px solid #ddd; 
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-gap: 20px;
        }
        
        .product {
            text-align: center;
        }
        
        .product-image {
            width: 100%;
            height: auto;
        }
        
        .product-name,
        .product-price {
            margin: 10px 0;
        }
        
        .view-more-btn {
            cursor: pointer;
            padding: 10px 20px;
            background-color: #4CAF50; /* Green */
            border-radius: 5px;
            color: white;
        }
        
        .view-more-btn:hover {
            background-color: #3e8e41; /* Darker green */
        }

         #exit-button{
             float:right
         }

         #add-to-cart-button{
             position:absolute; 
             bottom:-30px; 
             left:-30px
         }

         #product-details-container{
             position:absolute; 
             right:-1200px; 
             top:0; 
             width:auto; 
             height:auto; 
             transition:right 1s linear; 
             overflow:hidden;
             background: white;
         }

         #product-details-info{
            margin-top: -210px;
         }

         #container-product-name, #container-product-price{
            font-size: 50px;
            display: inline-block;
         }

         #add_to_cart {
            margin: .5em;
            font-size: 2em;
            text-transform: capitalize;
            background-color: red;
            color: white;
            border: none;
            padding: 5px;
            border-radius: 2px;
        }
        
        #add_cartButton {
            display: flex; 
            justify-content: center;
        }

    </style>
</head>
<body>

    <div class="shop-container">
    
      <input type="text" id="search-bar" onkeyup="searchProducts()" placeholder="Search for products...">

      <div class="product-grid">
          <!-- Add your products here -->
          <div class="product" data-name="Apple">
              <img class="product-image" src="https://via.placeholder.com/250x250.png?text=Product+Image" alt="Product Image">
              <h2 class="product-name">Apple</h2>
              <p class="product-price">$1.99</p>
              <button class="view-more-btn" onclick="showDetails(document.getElementsByClassName('product-name')[0].textContent, document.getElementsByClassName('product-image')[0].src, document.getElementsByClassName('product-price')[0].textContent)">View Details</button>
          </div>
          <div class="product" data-name="Banana">
            <img class="product-image" src="https://via.placeholder.com/250x250.png?text=Product+Image" alt="Product Image">
            <h2 class="product-name">Banana</h2>
            <p class="product-price">$129.99</p>
            <button class="view-more-btn" onclick="showDetails(document.getElementsByClassName('product-name')[1].textContent, document.getElementsByClassName('product-image')[1].src, document.getElementsByClassName('product-price')[1].textContent)">View Details</button>
        </div>
        <div class="product" data-name="Pear">
            <img class="product-image" src="https://via.placeholder.com/250x250.png?text=Product+Image" alt="Product Image">
            <h2 class="product-name">Pear</h2>
            <p class="product-price">$59.99</p>
            <button class="view-more-btn" onclick="showDetails(document.getElementsByClassName('product-name')[2].textContent, document.getElementsByClassName('product-image')[2].src, document.getElementsByClassName('product-price')[2].textContent)">View Details</button>
        </div>
        <div class="product" data-name="Orange">
            <img class="product-image" src="https://via.placeholder.com/250x250.png?text=Product+Image" alt="Product Image">
            <h2 class="product-name">Orange</h2>
            <p class="product-price">FREE</p>
            <button class="view-more-btn" onclick="showDetails(document.getElementsByClassName('product-name')[3].textContent, document.getElementsByClassName('product-image')[3].src, document.getElementsByClassName('product-price')[3].textContent)">View Details</button>
        </div>
        <div class="product" data-name="Product 1">
            <img class="product-image" src="https://via.placeholder.com/250x250.png?text=Product+Image" alt="Product Image">
            <h2 class="product-name">Product 1</h2>
            <p class="product-price">$1,000,000</p>
            <button class="view-more-btn" onclick="showDetails(document.getElementsByClassName('product-name')[4].textContent, document.getElementsByClassName('product-image')[4].src, document.getElementsByClassName('product-price')[4].textContent)">View Details</button>
        </div>
      </div>

      <!--Transparent overlay that appears over the product grid-->
      <div id = "overlay"></div>
      
      <!--Product Details container with all the product information-->
      <div id = "product-details-container">
          <button id = "exit-button" onclick = "hideDetails()">Close Window</button><br><br><br><br><br><br><br><br><br><br>
          <div id="product-details-info">
          </div>
      </div>
    </div>

<script>
function showDetails(productName, productImage, productPrice) {
    // Play animation to slide product grid to left and slide in product details table
    document.getElementById("overlay").style.display = "block";
    document.getElementById("overlay").style.position = "fixed";
    document.getElementById("overlay").style.top = "0";
    document.getElementById("overlay").style.left = "0";
    document.getElementById("overlay").style.width = "100%";
    document.getElementById("overlay").style.height = "100%";
    document.getElementById("overlay").style.backgroundColor = "rgba(0,0,0,.5)";
    document.getElementById("overlay").onclick = function () { hideDetails() };

    // Update product details table with information for the selected product
   // This is just an example. You'll need to update this code to show the correct information for each product.
   document.getElementById("product-details-info").innerHTML =
   `
   <p id="container-product-name"><b>${productName}<b></p>
    <p id="container-product-price"><b>(${productPrice})<b></p>
   <img class="product-image" src="${productImage}" alt="Product Image">
   <table id="details-table">
        <tr><th>Attribute</th><th>Details</th></tr>
    </table>
    <hr></hr>
    <div id="add_cartButton">
   <button id="add_to_cart">Add To Cart</button>
   </div>
   `;
    
   //set size of the container (width to be 1/3 of the page and height to be the size we need based upon the info in the product-details-info)
    var containerWidth = window.innerWidth / 3;

    if (containerWidth < 300) {
        containerWidth = 300;
    }

    var containerHeight = document.getElementById("product-details-info").height;

    var detailsContainer = document.getElementById("product-details-container");
    
    detailsContainer.style.right="0";
    
    detailsContainer.style.width=containerWidth+"px";
    
    detailsContainer.style.height=containerHeight+"px";
}

function hideDetails() {
   var detailsContainer=document.getElementById("product-details-container");
   
   detailsContainer.style.right="-1200px";

   setTimeout(function(){
      detailsContainer.style.width="auto";
      detailsContainer.style.height="auto"; 
      document.getElementById("overlay").style.display ="none";
      },700);
}

function addToCart(productName) {
   window.parent.postMessage(productName,"*");
}

function searchProducts() {
   var input, filter, products, i;

   input = document.getElementById("search-bar");
   filter = input.value.toUpperCase();
   products = document.getElementsByClassName("product");

   for (i=0;i<products.length;i++){
        if(products[i].dataset.name.toUpperCase().indexOf(filter)>-1){
            products[i].style.display="";
        }else{
            products[i].style.display ="none";
        }
   }
}
</script>
